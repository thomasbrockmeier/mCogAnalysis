function [ diffs ] = confidenceCompare()

% Performs a WRST on two matrices of raw data in Survey Gizmo formatting.
% Groups to be compared need to be separated by hand (e.g., in Excel) and
% be hard-coded in lines 17 and 20.
%
% Output format:
%
%   1. Average confidence import1
%   2. Average confidence import2
%   3. p value of WRST
%   4. 1 = null hypothesis can be rejected at 5% level
%      0 = null hypothesis cannot be rejected at 5% level
%   5. U statistic
%
%
% N.B.: When approaching zero, U occasionally loses its decimal point for 
% an unknown reason. Since U becomes significant as it decreases (thresholddepends on N),

% Import raw data from Survey Gizmo output.
import1 = importdata('rhythmMergedMale.xlsx');
importData1 = import1.data;

import2 = importdata('rhythmMergedFemale.xlsx');
importData2 = import2.data;

% Truncate input to only contain confidence values.
% N.B.: ratings2 contains no judgements with confidence value '1'.
[ rhyY, ~ ] = reformatConfs(importData1);

[ rhyN, ~ ] = reformatConfs(importData2);

rhyY_vec = rhyY(:)';
rhyN_vec = rhyN(:)';
rhyY_vec(isnan(rhyY_vec)) = [];
rhyN_vec(isnan(rhyN_vec)) = [];

[ p, h, u ] = ranksum(rhyY_vec, rhyN_vec);
diffs(1, 1) = sum(rhyY_vec) / length(rhyY_vec);
diffs(2, 1) = sum(rhyN_vec) / length(rhyN_vec);
diffs(3, 1) = p;
diffs(4, 1) = h;
diffs(5, 1) = u.ranksum;

disp(u)